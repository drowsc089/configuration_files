path.home: /usr/share/beat
path.config: /etc/beat
path.data: /data/filebeat/data
path.logs: /data/filebeat/logs

logging.level: info
logging.to_files: true
logging.files:
  path: /data/filebeat/logs
  name: filebeat
  keepfiles: 7
  permissions: 0644
  rotateeverbytes: 10485760 #(10MB)

filebeat.registry.path: registry   #%{path.data}
filebeat.registry.file_permissions: 0600
filebeat.registry.flush: 60s


filebeat.inputs:
   - type: log
     enabled: true
     paths:
       - /data/logs/idr-attendance/idr-attendance*log
     multiline.type: pattern
     multiline.pattern: '^[[:space:]]+(at|\.{3})[[:space:]]+\b|^Caused by:'
     multiline.negate: false
     multiline.match: after
     exclude_lines: ["^DEBUG"]
     tags: ["idr-attendance"]

output.kafka:
     enabled: true
     hosts: ["kafka01:9092","kafka02:9092","kafka03:9092"]
     topics:
       - topic: "idr-attendance"
         when.contains:
           tags: "idr-attendance"
     required_acks: 1
     compression: gzip
     max_message_bytes: 1000000 # 1MB
       #- topic: "idr-attendance"
         #when.contains:
           #tags: "idr-attendance"
